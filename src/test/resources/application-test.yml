spring:
  batch:
    job:
      enabled: false

migration:
  chunk-size: ${CHUNK_SIZE:5000}
  tables:
    - name: users-migration
      key-column-name: id
      source:
        schema: public
        table: users
      target:
        schema: public
        table: users
      modify-fields:
        - source-name: created_date
          source-type: java.lang.String
          target-name: created_date
          target-type: java.time.LocalDateTime
          default-value: T(java.time.LocalDateTime).now()
      additional-fields:
        - name: uid
          type: java.util.UUID
          value: T(java.util.UUID).randomUUID()
      remove-fields:
        - id

logging:
  level:
    org.springframework.batch.item.database: debug
